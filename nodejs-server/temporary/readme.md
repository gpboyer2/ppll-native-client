# ç½‘æ ¼ç­–ç•¥è¿è¡Œç›®å½•

## æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `strategies.config.list.js` | ç­–ç•¥é…ç½®æ–‡ä»¶ï¼Œæ‰€æœ‰äº¤æ˜“å¯¹å’Œè´¦å·é…ç½®é›†ä¸­ç®¡ç† |
| `single-strategy-runner.js` | ç­–ç•¥è¿è¡Œå™¨ï¼Œå•ä¸ªç­–ç•¥å®ä¾‹æ‰§è¡Œæ–‡ä»¶ |
| `pm2.config.js` | PM2 å¢é‡ç®¡ç†å™¨ï¼Œè‡ªåŠ¨ç®¡ç†ç­–ç•¥è¿›ç¨‹çš„å¯åŠ¨/åœæ­¢/é‡å¯ |
| `multi-strategy-runner.js` | å¤šç­–ç•¥è¿è¡Œå™¨ï¼Œæ‰€æœ‰ç­–ç•¥å…±äº«ä¸€ä¸ª WebSocket è¿æ¥ |

---

## æ–¹å¼ä¸€ï¼šPM2 å¤šè¿›ç¨‹æ¨¡å¼ï¼ˆæ¨èï¼‰

æ¯ä¸ªç­–ç•¥ç‹¬ç«‹è¿›ç¨‹ï¼Œå¯ä»¥å•ç‹¬æŸ¥çœ‹æ—¥å¿—ï¼Œäº’ä¸å¹²æ‰°ã€‚

### å¢é‡æ›´æ–°ï¼ˆæ™ºèƒ½ç®¡ç†ï¼‰

```bash
# å¼€å‘ç¯å¢ƒï¼ˆè‡ªåŠ¨å¢é‡æ›´æ–°æ‰€æœ‰ç­–ç•¥ï¼‰
node ./temporary/pm2.config.js

# ç”Ÿäº§ç¯å¢ƒ
NODE_ENV=production node ./temporary/pm2.config.js
```

**å¢é‡æ›´æ–°é€»è¾‘**ï¼š
- âœ… æ–°å¢ç­–ç•¥ â†’ åªå¯åŠ¨æ–°å¢çš„è¿›ç¨‹
- âŒ åˆ é™¤ç­–ç•¥ â†’ åªåœæ­¢å¯¹åº”è¿›ç¨‹
- ğŸ”„ ä¿®æ”¹ç­–ç•¥ â†’ åªé‡å¯è¢«ä¿®æ”¹çš„è¿›ç¨‹
- â© æœªå˜æ›´ç­–ç•¥ â†’ ä¿æŒè¿è¡Œ
- â¸ï¸ æ‰‹åŠ¨åœæ­¢çš„ç­–ç•¥ â†’ ä¿æŒåœæ­¢çŠ¶æ€
- ğŸ”„ æ‰‹åŠ¨åˆ é™¤çš„ç­–ç•¥ â†’ è‹¥é…ç½®ä»å¯ç”¨åˆ™é‡æ–°å¯åŠ¨

### æŸ¥çœ‹è¿›ç¨‹

```bash
# æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹
pm2 list

# æŸ¥çœ‹å•ä¸ªç­–ç•¥æ—¥å¿—ï¼ˆè¿›ç¨‹åæ ¼å¼ï¼šäº¤æ˜“å¯¹-æ–¹å‘-umInfiniteGrid-è´¦å·ï¼‰
pm2 logs ALL-LONG-umInfiniteGrid-ä¿Šé‘«
pm2 logs ALL-SHORT-umInfiniteGrid-ä¿Šé‘«

# æ‰‹åŠ¨æ§åˆ¶è¿›ç¨‹
pm2 stop ALL-LONG-umInfiniteGrid-ä¿Šé‘«     # åœæ­¢å•ä¸ªç­–ç•¥
pm2 delete ALL-LONG-umInfiniteGrid-ä¿Šé‘«   # åˆ é™¤å•ä¸ªç­–ç•¥
pm2 stop all                               # åœæ­¢æ‰€æœ‰ç­–ç•¥
pm2 delete all                             # åˆ é™¤æ‰€æœ‰ç­–ç•¥
```

---

## æ–¹å¼äºŒï¼šå¤šç­–ç•¥è¿è¡Œå™¨ï¼ˆå…±äº«è¿æ¥ï¼‰

æ‰€æœ‰ç­–ç•¥å…±äº«ä¸€ä¸ª WebSocket è¿æ¥ï¼ŒèŠ‚çœæƒé‡æ¶ˆè€—ã€‚

### ä¼˜åŠ¿
- **èŠ‚çœæƒé‡**ï¼š100ä¸ªäº¤æ˜“å¯¹åªéœ€1ä¸ªè¿æ¥ï¼ˆ5æƒé‡ï¼‰ï¼Œè€Œä¸æ˜¯100ä¸ªè¿æ¥ï¼ˆ500æƒé‡ï¼‰
- **ç»Ÿä¸€ç®¡ç†**ï¼šæ‰€æœ‰ç­–ç•¥é…ç½®é›†ä¸­åœ¨ `strategies.config.list.js`

### å¯åŠ¨

```bash
# å¼€å‘ç¯å¢ƒï¼ˆå¯ç”¨ä»£ç†ï¼‰
NODE_ENV=development node ./temporary/multi-strategy-runner.js

# ç”Ÿäº§ç¯å¢ƒ
NODE_ENV=production node ./temporary/multi-strategy-runner.js

# ä½¿ç”¨ PM2 è¿è¡Œ
NODE_ENV=development pm2 start ./temporary/multi-strategy-runner.js --name multi-strategy
NODE_ENV=production pm2 start ./temporary/multi-strategy-runner.js --name multi-strategy
```

---

## é…ç½®è¯´æ˜

ç¼–è¾‘ `strategies.config.list.js` æ–‡ä»¶ï¼š

1. **accountList**: è´¦å·é…ç½®ï¼ŒåŒ…å« apiKey å’Œ apiSecret
2. **strategyList**: ç­–ç•¥åˆ—è¡¨ï¼Œæ¯ä¸ªç­–ç•¥åŒ…å«ï¼š
   - `enabled`: æ˜¯å¦å¯ç”¨
   - `account`: ä½¿ç”¨çš„è´¦å·åç§°
   - `positionSide`: 'LONG' æˆ– 'SHORT'
   - `tradingPair`: äº¤æ˜“å¯¹
   - å…¶ä»–ç½‘æ ¼å‚æ•°...

### åŒä¸€äº¤æ˜“å¯¹å¤šç­–ç•¥

æ”¯æŒåŒä¸€äº¤æ˜“å¯¹åŒæ—¶è¿è¡Œå¤šä¸ªç­–ç•¥ï¼ˆå¦‚åšå¤š+åšç©ºï¼‰ï¼Œåªéœ€åœ¨ strategyList ä¸­æ·»åŠ å¤šæ¡é…ç½®å³å¯ã€‚

---

