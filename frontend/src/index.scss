/* 通用基础样式: 重置、主题变量、排版、组件与工具类 */

/* ========== 重置 Reset ========== */
/* 采用现代浏览器友好的基础重置，尽量不破坏表单与原生元素可用性 */
*, *::before, *::after { box-sizing: border-box; }
html, body, #root { height: 100%; }
html:focus-within { scroll-behavior: smooth; }
body { margin: 0; text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; }
img, picture, video, canvas, svg { display: block; max-width: 100%; }
input, button, textarea, select { font: inherit; }
button { cursor: pointer; border: none; background: none; }
:root { color-scheme: light dark; }

/* ========== CSS 变量 Theme Variables ========== */
:root {
  /* 色板 - 以绿色为主色，统一产品基调 */
  --color-primary: #16a34a; /* 绿色-主色 */
  --color-primary-600: #16a34a;
  --color-primary-700: #15803d;
  --color-primary-50: #ecfdf5;

  --color-bg: #ffffff;
  --color-bg-muted: #f7f7f8;
  --color-text: #0f172a; /* 深灰蓝-更友好阅读 */
  --color-text-muted: #475569;
  --color-border: #e5e7eb;
  --color-surface: #ffffff;
  --color-danger: #ef4444;
  --color-warning: #f59e0b;
  --color-success: #16a34a;

  /* 尺寸与圆角 */
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;

  /* 阴影 */
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow-md: 0 6px 16px rgba(0,0,0,0.08);
  --shadow-lg: 0 16px 40px rgba(0,0,0,0.10);

  /* 排版 */
  --font-sans: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --text-xs: 12px;
  --text-sm: 13px;
  --text-md: 14px;
  --text-lg: 16px;
  --text-xl: 18px;
  --text-2xl: 20px;
  --leading-tight: 1.25;
  --leading-normal: 1.5;
}

/* 暗色模式变量 */
@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #0b1018;
    --color-bg-muted: #0f1722;
    --color-text: #e5e7eb;
    --color-text-muted: #94a3b8;
    --color-border: #1f2937;
    --color-surface: #0f1722;
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.5);
    --shadow-md: 0 6px 16px rgba(0,0,0,0.45);
    --shadow-lg: 0 16px 40px rgba(0,0,0,0.4);
  }
}

/* ========== 基础排版 Typography ========== */
body { font-family: var(--font-sans); color: var(--color-text); background: var(--color-bg); font-size: var(--text-md); line-height: var(--leading-normal); }

h1, h2, h3, h4, h5, h6 { margin: 0 0 8px; font-weight: 600; line-height: var(--leading-tight); color: var(--color-text); }
h1 { font-size: 28px; }
h2 { font-size: 24px; }
h3 { font-size: 20px; }
h4 { font-size: 18px; }
h5 { font-size: 16px; }
h6 { font-size: 14px; }

p { margin: 0 0 12px; color: var(--color-text-muted); }
small { font-size: var(--text-sm); color: var(--color-text-muted); }

/* 链接 */
a { color: var(--color-primary-600); text-decoration: none; }
a:hover { color: var(--color-primary-700); text-decoration: underline; }

/* ========== 布局容器 Layout ========== */
.container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 16px; }
.section { padding: 16px; }
.surface { background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); box-shadow: var(--shadow-sm); }

/* ========== 基础组件 Components ========== */
/* 按钮 */
.btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; height: 36px; padding: 0 14px; border-radius: var(--radius-sm); font-weight: 600; font-size: var(--text-sm); border: 1px solid transparent; transition: all .15s ease; }
.btn:disabled { opacity: .6; cursor: not-allowed; }
.btn-primary { color: #fff; background: var(--color-primary); border-color: var(--color-primary); box-shadow: var(--shadow-sm); }
.btn-primary:hover { filter: brightness(0.98); transform: translateY(-1px); box-shadow: var(--shadow-md); }
.btn-outline { color: var(--color-text); background: transparent; border-color: var(--color-border); }
.btn-outline:hover { border-color: var(--color-primary-600); color: var(--color-primary-600); }
.btn-ghost { color: var(--color-text); background: transparent; }
.btn-ghost:hover { background: var(--color-bg-muted); }
.btn-danger { color: #fff; background: var(--color-danger); border-color: var(--color-danger); }

/* 卡片 */
.card { background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); box-shadow: var(--shadow-sm); }
.card-header { padding: 12px 16px; border-bottom: 1px solid var(--color-border); font-weight: 600; }
.card-content { padding: 16px; }
.card-footer { padding: 12px 16px; border-top: 1px solid var(--color-border); text-align: right; }

/* 表单 */
.form-row { display: flex; flex-direction: column; gap: 6px; margin-bottom: 12px; }
.label { font-size: var(--text-sm); color: var(--color-text-muted); }
.input, .select, .textarea { width: 100%; padding: 8px 10px; border: 1px solid var(--color-border); border-radius: var(--radius-sm); background: var(--color-surface); color: var(--color-text); outline: none; transition: border-color .15s ease, box-shadow .15s ease; }
.input:focus, .select:focus, .textarea:focus { border-color: var(--color-primary-600); box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-primary-600) 15%, transparent); }
.help { font-size: var(--text-xs); color: var(--color-text-muted); }

/* 标签 Tag */
.tag { display: inline-flex; align-items: center; height: 24px; padding: 0 8px; border-radius: 999px; border: 1px solid var(--color-border); background: var(--color-bg-muted); font-size: var(--text-xs); color: var(--color-text); }
.tag.success { background: color-mix(in srgb, var(--color-success) 10%, var(--color-bg)); border-color: color-mix(in srgb, var(--color-success) 30%, var(--color-border)); }
.tag.warn { background: color-mix(in srgb, var(--color-warning) 10%, var(--color-bg)); border-color: color-mix(in srgb, var(--color-warning) 30%, var(--color-border)); }
.tag.danger { background: color-mix(in srgb, var(--color-danger) 10%, var(--color-bg)); border-color: color-mix(in srgb, var(--color-danger) 30%, var(--color-border)); }

/* ========== 工具类 Utilities ========== */
.mt-8 { margin-top: 8px; }
.mt-12 { margin-top: 12px; }
.mt-16 { margin-top: 16px; }
.mb-8 { margin-bottom: 8px; }
.mb-12 { margin-bottom: 12px; }
.mb-16 { margin-bottom: 16px; }
.p-8 { padding: 8px; }
.p-12 { padding: 12px; }
.p-16 { padding: 16px; }
.gap-8 { gap: 8px; }
.gap-12 { gap: 12px; }
.gap-16 { gap: 16px; }
.flex { display: flex; }
.flex-col { flex-direction: column; }
.items-center { align-items: center; }
.justify-center { justify-content: center; }
.space-between { justify-content: space-between; }
.rounded { border-radius: var(--radius-md); }
.border { border: 1px solid var(--color-border); }
.text-muted { color: var(--color-text-muted); }
.hide { display: none !important; }

/* ========== 页面骨架 Skeleton ========== */
.skeleton { position: relative; overflow: hidden; background: var(--color-bg-muted); }
.skeleton::after { content: ""; position: absolute; inset: 0; transform: translateX(-100%); background: linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent); animation: shimmer 1.2s infinite; }
@keyframes shimmer { 100% { transform: translateX(100%); } }
